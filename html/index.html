<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Roboto+Slab:wght@300;400;700&display=swap" rel="stylesheet">

    <link rel="icon" href="./img/favicon-2.png" type="image/png">
    <link rel="apple-touch-icon" href="./img/favicon.png" type="image/png">

    <link rel="stylesheet" href="./styles.css">
    <title>Cutting In & Rolling Out</title>
</head>
<body>
    <div class="wrap">
        <div class="page-top">
            <div class="container">
                <header class="header">
                    <ul class="nav nav-left">
                        <li>
                            <a href="/">Home</a>
                        </li>
                        <li>
                            <a href="#gallery">Gallery</a>
                        </li>
                    </ul>
                    <div class="logo">
                        <a href="/"><img src="./img/logo-white.png" alt="Cutting In & Rolling Out logo" /></a>
                    </div>
                    <ul class="nav nav-right">
                        <li>
                            <a href="#about-us">About</a>
                        </li>
                        <li>
                            <a href="#contact">Contact</a>
                        </li>
                    </ul>
                </header>
                <div class="main-copy">
                    <h1>Let Us Make Your Home Feel <strong>New Again.</strong></h1>
                    <a class="btn btn-secondary" href="#">
                        <span>Get Your </span> <strong>Free Estimate</strong>
                    </a>
                </div>
            </div>
        </div>

        <div id="about">
            <a id="about-us"></a>
            <div class="container">
                <h2>
                    On <strong>time.</strong> On <strong>budget.</strong> Guaranteed <strong>to last.</strong>
                </h2>
                <div class="row">
                    <div class="col">
                        <div class="icon">
                            <img src="./img/icons/roller-light.png" alt="paint roller" />
                        </div>
                        <h3>Fast and <strong>Reliable</strong></h3>
                        <hr class="short">
                        <p>
                            This is your home &ndash; it should be cared for by professionals.  We have the 
                            experience and expertise to do the job right and on schedule.
                        </p>
                    </div>
                    <div class="col">
                        <div class="icon">
                            <img src="./img/icons/samples-light.png" alt="paint samples" />
                        </div>
                        <h3>Full <strong>Support</strong></h3>
                        <hr class="short">
                        <p>
                            Whether you have your entire color palette all picked out or don’t know where to 
                            start, we’ll meet you where you are and help you with each phase of the project.
                        </p>
                    </div>
                    <div class="col">
                        <div class="icon">
                            <img src="./img/icons/tape-light.png" alt="tape" />
                        </div>
                        <h3>Attention to <strong>Detail</strong></h3>
                        <hr class="short">
                        <p>
                            We’re proud of every project we’ve worked on, and that’s because we don’t take 
                            shortcuts.  We’re committed to getting it right every single time.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div id="form">
            <a id="contact"></a>
            <div class="container">
                <div class="row">
                    <div class="form-col">
                        <div class="form-wrap">
                            <h3><strong>Free</strong> Estimate</h3>
                            <hr class="short">
                            <form method="POST" action="https://formspree.io/f/xjvlwaaj" id="contact-form">
                                <p>
                                    <label for="name">
                                        Name*<br>
                                        <input type="text" required name="name" id="name" />
                                    </label>
                                </p>
                                <p>
                                    <label for="email">
                                        Email*<br>
                                        <input type="email" required name="email" id="email" />
                                    </label>
                                </p>
                                <p>
                                    <label for="message">
                                        Message and/or Address<br>
                                        <textarea name="message" id="message" rows="10"></textarea> 
                                    </label>
                                </p>
                                <p class="center">
                                    <button type="submit" class="btn btn-primary">Submit</button>
                                </p>
                            </form>
                            <div id="form-status"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div>
            <a id="gallery"></a>
            <div class="container">
                <div class="row">
                    <div class="col gallery">
                        
                    </div>
                </div>
            </div>
        </div>

        <footer class="clearfix">
            <div class="footer-content">
                <div class="container">
                    <div class="footer-logo">
                        <a href="/"><img src="./img/logo-white-nowords.png" alt="footer logo" /></a>
                    </div>
                    <ul class="nav">
                        <li>
                            <a href="/">Home</a>
                        </li>
                        <li>
                            <a href="#gallery">Gallery</a>
                        </li>
                        <li>
                            <a href="#about-us">About</a>
                        </li>
                        <li>
                            <a href="#contact">Contact</a>
                        </li>
                    </ul>
                </div>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.addEventListener('click', function (event) {
                if (event.target.localName == "a") {
                    event.preventDefault();
                    // scroll to section if it has a # 
                    let url = event.target.attributes.href.nodeValue;
                    console.log(url);
                    if (url.indexOf('#') > -1) {
                        let offsetTop = document.querySelector(url).offsetTop;
                        scroll({
                            top: offsetTop,
                            behavior: "smooth"
                        });
                    } else {
                        window.location.href = url;
                    }
                }
            });
        }, false);

        const form = document.getElementById("contact-form");

        async function handleSubmit(event) {
            event.preventDefault();
            var status = document.getElementById("form-status");
            var data = new FormData(event.target);
            fetch(event.target.action, {
                method: form.method,
                body: data,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    status.innerHTML = "Thanks for your submission!";
                    form.reset();
                    form.style.display = "none";
                } else {
                    response.json().then(data => {
                        if (Object.hasOwn(data, 'errors')) {
                            status.innerHTML = data["errors"].map(error => error["message"]).join(", ")
                        } else {
                            status.innerHTML = "Oops! There was a problem submitting your form"
                        }
                    });
                }
            }).catch(error => {
                status.innerHTML = "Oops! There was a problem submitting your form"
            });
        }

        form.addEventListener("submit", handleSubmit);
    </script>
</body>
</html>